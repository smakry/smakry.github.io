---
layout: post
title: '性能测试'
date: 2022-04-15
author: smakry
tags: 性能 测试 压测
---

> 经受住考验的系统

## 指标解释
1. 机器性能指标解释

- CUP利用率（CPU Usage）CUP 利用率分用户态、系统态和空闲态，CPU利用率是指:CPU执行非系统空闲进程的时间与CPU总执行时间的比率
- 内存使用率（Memory Usage）内存使用率是此`进程所开销`的内存
- IO(Disk input/output) 磁盘的读写包速率
- 网卡负载（Network Load）网卡的进出带宽，包量

2. 访问指标

- PV（页面浏览量 Page View）用户每打开1个网站页面，记录1个PV。用户多次打开同一页面，`PV值累计多次`
- UV (网站独立访客 Unique Visitor) 通过互联网访问、流量网站的自然人。1天内相同访客多次访问网站，只计算为1个独立访客

## 计算压测指标

原则：每天80%的访问集中在20%的时间里即为峰值
公式：（总PV*80%）/（每天的秒数*20%）= 峰值时间没秒钟的请求数（QPS）

3. 端口范围

- 由于linux端口的范围是 0~65535(2^16-1)这个和操作系统无关，不管linux是32位的还是64位的
- 这个数字是由于tcp协议决定的，tcp协议头部表示端口只有16位，所以最大值只有65535(如果每台机器多几个虚拟ip就能突破这个限制)
- 1024以下是系统保留端口，所以能使用的1024到65535

