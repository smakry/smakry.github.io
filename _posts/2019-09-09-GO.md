---
layout: post
title: 'Golang'
date: 2019-09-09
author: smakry
tags: GO 阅读笔记
---

> 简洁、快速、安全

> 并行、有趣、开源
 
> 内存管理、数组安全、编译迅速

## Go笔记
### 变量
- `:=`省略var，左侧没有`声明新的变量`，产生编译错误（常用于初始化声明）

```go
    var intVal int
    intVal := 1 //编译错误intVal不是新的变量
	g,h := 123,"test" //只能在`函数体中`出现
````

- 因式分解关键字写法用于声明全局变量

```go
var(
	a int
	b bool
)
````

- 局部变量声明未使用编译错误，全局变量声明未使用是允许的

### 常量
- iota常量（可被编译器修改的常量），`const出现iota重置为0`。const`语句块中每行+1`

```go
package main

import "fmt"
const (
    i=1<<iota
    j=3<<iota
    k
    l
)

func main() {
    fmt.Println("i=",i)
    fmt.Println("j=",j)
    fmt.Println("k=",k)
    fmt.Println("l=",l)
}

输出结果：
i=1
j=6
k=12
l=24

//k=3<<iota(1+1) l=3<<iota(1+1+1)
```

### 运算
- go`不支持前++`

### select语句（随机版switch）
- select随机一个可运行的case，可运行退出
- 若无default子句，select会阻塞，循环检测条件直到满足才退出循环

### Go默认的`值传递`，调用过程不会影响到实际参数

### Slice(切片)，即可扩容“动态数组”
````go
var slice []int = make([]int,10) //定义长度10的切片
s := slice[startIndex:endIndex] //复制切片从指定的位置，默认值切片起止位置
````

### Map(集合)

var myMap map[int]string //声明变量，若`无初始化是nil` map不能存放键值对（slice切片也是一样） 
myMap = make(map[int]string) //创建集合，此时才能修改map

### Interface接口（方法的集合）
- 接口`只能定义`方法，具体的由实现接口的类提供
- 定义对象`必须实现`的成员，定义方式同时结构体
- 接口不能直接实例化

### 错误处理
- 实现error接口的错误处理

### 并发、channel
- Go支持语言并发，通过go关键字开启goroutine
- goroutine轻量级线程，调度由Golang运行时进行管理
- goroutine两个之间传递通过channel（通道）